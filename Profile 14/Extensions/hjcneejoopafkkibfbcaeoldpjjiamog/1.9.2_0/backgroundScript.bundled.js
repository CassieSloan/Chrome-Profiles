!function(e){var t={};function n(E){if(t[E])return t[E].exports;var o=t[E]={i:E,l:!1,exports:{}};return e[E].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,E){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:E})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var E=Object.create(null);if(n.r(E),Object.defineProperty(E,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(E,o,function(t){return e[t]}.bind(null,o));return E},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://cdn.getclockwise.com/",n(n.s="./background.ts")}({"../../web-commons/src/util/post-message-common.util.ts":function(e,t,n){"use strict";function E(e,t){for(var n=0;n<t.length;n++){var E=t[n];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(e,E.key,E)}}function o(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"c",function(){return a}),n.d(t,"d",function(){return _}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"e",function(){return u});var a=o(function e(t,n){r(this,e),i(this,"source","clockwise"),this.type=t,this.payload=n,this.seqId=e.seqId++});i(a,"seqId",0);var s={AUTHENTICATED:"Authenticated",AUTOPILOT_CARDS_NOTIFICATION_COUNT:"AutopilotCardsNotificationCount",CALENDAR_MISMATCH:"CalendarMismatch",CALENDAR_TOGGLE:"CalendarToggle",CALENDAR_URL:"CalendarUrl",CALENDAR_USER_EMAIL:"CalendarUserEmail",CALENDAR_VIEW:"CalendarView",CHROME_EXTENSION_CHROME_DIALOG_OPEN:"ChromeExtensionChromeDialogOpen",CHROME_EXTENSION_CLICKED:"ChromeExtensionClicked",CHROME_EXTENSION_ERROR:"ChromeExtensionError",CHROME_EXTENSION_LOG:"ChromeExtensionLog",CHROME_EXTENSION_HOVERED:"ChromeExtensionHovered",CHROME_EXTENSION_IDLE:"ChromeExtensionIdle",CHROME_EXTENSION_INTERCOM_OPEN:"ChromeExtensionIntercomOpen",CHROME_EXTENSION_OPEN:"ChromeExtensionOpen",CHROME_EXTENSION_SHADOW_CALENDAR_ACTIVE:"ChromeExtensionShadowCalendarActive",CHROME_EXTENSION_VERSION:"ChromeExtensionVersion",IS_CHROME_EXTENSION:"IsChromeExtension",WEB_EXTENSION_WEB_DIALOG_OPEN:"WebExtensionWebDialogOpen",WEB_EXTENSION_CLICKED:"WebExtensionClicked",WEB_EXTENSION_ERROR:"WebExtensionError",WEB_EXTENSION_LOG:"WebExtensionLog",WEB_EXTENSION_HOVERED:"WebExtensionHovered",WEB_EXTENSION_IDLE:"WebExtensionIdle",WEB_EXTENSION_INTERCOM_OPEN:"WebExtensionIntercomOpen",WEB_EXTENSION_OPEN:"WebExtensionOpen",WEB_EXTENSION_SHADOW_CALENDAR_ACTIVE:"WebExtensionShadowCalendarActive",WEB_EXTENSION_VERSION:"WebExtensionVersion",IS_WEB_EXTENSION:"IsWebExtension",CLEAR_QUERY_PARAMS:"ClearQueryParams",CREATE_EVENT:"CreateEvent",CREATE_EVENT_ANNOTATION:"CreateEventAnnotation",DEBUG_MESSAGE:"DebugMessage",EDIT_EVENT:"EditEvent",EDIT_EVENT_INFO:"EditEventInfo",ENABLE_EXPERIMENT:"EnableExperiment",EVENT_EDIT_HOVERED:"EventEditHovered",BULK_EXPERIMENTS:"BulkExperiments",EVENT_DELETE_BUTTON_CLICKED:"EventDeleteButtonClicked",SHOULD_FETCH_SUGGESTED_TIMES:"ShouldFetchSuggestedTimes",EVENT_VIEW:"EventView",FAST_CRAWL_FLOW_STATE_CURRENT_STATUS:"FastCrawlFlowStateCurrentStatus",FETCH_QUERY:"FetchQuery",COMMIT_MUTATION:"CommitMutation",LOGS:"Logs",GOOGLE_VERSION:"GoogleVersion",GO_TO_DATE:"GoToDate",GO_TO_EVENT_EDIT:"GoToEventEdit",HEALTH_CHECK:"HealthCheck",HIGHLIGHT_CALENDAR_SELECTION_BOXES:"HighlightCalendarSelectionBoxes",INITIAL_HANDSHAKE:"InitialHandshake",INITIAL_LOAD_COMPLETE:"InitialLoadComplete",INIT_TIME:"InitTime",ONBOARDING_FLOW_STATE_CURRENT_STATUS:"OnboardingFlowStateCurrentStatus",ORG_DOMAINS:"OrgDomains",PRE_EVENT_FLEXIBILITY:"PreEventFlexibility",PRICING_DIALOG_OPEN:"PricingDialogOpen",RELOAD_EVENTS:"ReloadEvents",SCHEDULER_OPEN:"SchedulerOpen",SELECTION_STATES:"SelectionStates",SET_SELECTION_STATES:"SetSelectionStates",SET_EVENT_TAGS:"SetEventTags",SET_EVENT_AUTOPILOT_STATUS:"SetEventAutopilotStatus",SET_ACTIVE_EVENT:"SetActiveEvent",SET_FREEMIUM_ORG_STATUS:"SetFreemiumOrgStatus",SHADOW_CALENDAR_SETTINGS:"ShadowCalendarSettings",SHADOW_CALENDAR_TOGGLE:"ShadowCalendarToggle",SHOW_DAY_OF_WEEK:"ShowDayOfWeek",SHOW_EVENT_ON_CALENDAR:"ShowEventOnCalendar",SHOW_HEATMAP:"ShowHeatmap",SHOW_TEAM_CALENDAR_TIP:"ShowTeamCalendarTip",STATS_D_ACTION:"StatsDAction",SUGGESTED_TIMES_FOR_EVENT:"ReceiveSuggestedTimesForEvent",SUGGESTION_COUNT:"SuggestionCount",SYNC_ACTIVE_ORG:"SyncActiveOrg",TAILORED_DEFRAG_CARD_AVAILABLE:"TailoredDefragCardAvailable",TIME_ZONE:"TimeZone",TRACK:"Track",UNSUBSCRIBE_CALENDAR_ID:"UnsubscribeCalendarId",USER_CALENDAR_IDS:"UserCalendarIds",USER_FLAGS:"UserFlags",WEBAPP_UPDATE:"WebappUpdate",WINDOW_USER_EMAIL:"WindowUserEmail",SET_USER_GOALS:"SetUserGoals",SET_FEATURE_GRID:"SetFeatureGrid",SYNCED_ACTION:"SyncedAction",COLOR_SETTINGS:"ColorSettings",USER:"User",COPY_TO_CLIPBOARD:"CopyToClipboard",COPY_RICH_TEXT_TO_CLIPBOARD:"CopyRichTextToClipboard",EXTENSION_TAB_VISIBILITY_CHANGED:"ExtensionTabVisibilityChanged"},_={Invite:"cwinvite",Slack:"cwslack",Autopilot:"cwautopilot",SmartHolds:"cwsmartholds",PersonalCalendar:"cwpersonalcal",ColorCoding:"cwcolors",InstallEvent:"cwinstall",Plans:"cwplans",Lunch:"cwlunch",MeetingBreaks:"cwmeetingbreaks",EventId:"eid",ShareSchedulingLink:"share-scheduling-link"},c=o(function e(t){var n=this;r(this,e),i(this,"payloadTypes",s),i(this,"initBase",function(e){n.window=e,n.send()}),i(this,"queuePayload",function(e){n.queuedMessages.push(e)}),i(this,"sendQueuedMessages",function(e){n.queuedMessages.map(function(t){e.postMessage(t,n.otherWindowUrl)}),n.queuedMessages=[]}),i(this,"send",function(e){e&&n.queuePayload(e),n.window&&n.sendQueuedMessages(n.window)}),this.queuedMessages=[],this.otherWindowUrl=t}),l=3e5;function u(){return"https://www.getclockwise.com"}},"./background.ts":function(e,t,n){"use strict";n.r(t);var E,o,r=n("../../web-commons/src/util/post-message-common.util.ts"),i=n("./util/port.constant.ts");function a(e){return"number"==typeof e}chrome.runtime.onConnect.addListener(function(e){e.name===i.b.ContentScript&&(e.postMessage({type:i.a.InitialConnection}),o=e),chrome.tabs.insertCSS({file:"style.css"})}),chrome.runtime.onInstalled.addListener(function(e){e&&e.reason===chrome.runtime.OnInstalledReason.INSTALL&&chrome.tabs.create({url:"".concat("https://calendar.google.com","?cwinstall"),active:!0})}),null===(E=chrome.runtime.onUpdateAvailable)||void 0===E||E.addListener(function(){o&&o.disconnect(),chrome.runtime.reload()}),chrome.tabs.query({url:["https://calendar.google.com/calendar/*"]},function(e){e.forEach(function(e){a(e.id)&&chrome.tabs.executeScript(e.id,{file:"contentScript.bundled.js"})})}),chrome.runtime.setUninstallURL(Object(r.e)()+"/uninstall"),chrome.runtime.onMessage.addListener(function(e,t,n){if("getStyleCanary"===e&&t.tab&&a(t.tab.id)&&"number"==typeof t.frameId){var E="_"+crypto.getRandomValues(new Uint32Array(2)).join(""),o="."+E+" { opacity: 0 !important; }";return chrome.tabs.insertCSS(t.tab.id,{code:o,frameId:t.frameId,runAt:"document_start"},function(){chrome.runtime.lastError?n():n(E)}),!0}})},"./util/port.constant.ts":function(e,t,n){"use strict";var E,o;n.d(t,"b",function(){return E}),n.d(t,"a",function(){return o}),function(e){e.ContentScript="contentScript"}(E||(E={})),function(e){e.InitialConnection="InitialConnection"}(o||(o={}))}});